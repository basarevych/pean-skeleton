<div class="modal-header">
    <button class="close" ng-click="$dismiss()">&times;</button>
    <h4 class="modal-title">{{ 'CHANGE_PASSWORD_TITLE' | glMessage }}</h4>
</div>

<div class="modal-body">
    <div class="alert alert-modal alert-danger" ng-repeat="message in validation.errors">
        <center>
            {{ message }}
        </center>
    </div>

    <form class="form-horizontal" role="form" novalidate>
        <div class="form-group" ng-class="{ 'has-error': validation.fields.currentPassword.length }">
            <label class="col-sm-4 control-label required">
                {{ 'CURRENT_PASSWORD_LABEL' | glMessage }}:
               <span ng-show="model.currentPassword.required" class="required-marker text-danger">
                    {{ 'REQUIRED_FIELD' | glMessage | uppercase }}
                </span>
            </label>
            <div class="col-sm-8">
                <input type="password" class="form-control" ng-model="model.currentPassword.value" focus-on="model.currentPassword.focus" on-key-enter="model.newPassword.focus = true"
                       ng-keydown="resetValidation('currentPassword')" ng-blur="validate('currentPassword')" ng-disabled="processing">
                <div class="help-block">
                    <ul class="list-unstyled icon-list error-list">
                        <li ng-repeat="message in validation.fields.currentPassword">{{ message }}</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-group" ng-class="{ 'has-error': validation.fields.newPassword.length }">
            <label class="col-sm-4 control-label required">
                {{ 'NEW_PASSWORD_LABEL' | glMessage }}:
               <span ng-show="model.newPassword.required" class="required-marker text-danger">
                    {{ 'REQUIRED_FIELD' | glMessage | uppercase }}
                </span>
            </label>
            <div class="col-sm-8">
                <input type="password" class="form-control" ng-model="model.newPassword.value" focus-on="model.newPassword.focus" on-key-enter="model.retypedPassword.focus = true"
                       ng-keydown="resetValidation('newPassword')" ng-blur="validate('newPassword')" ng-disabled="processing">
                <div class="help-block">
                    <ul class="list-unstyled icon-list error-list">
                        <li ng-repeat="message in validation.fields.newPassword">{{ message }}</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-group" ng-class="{ 'has-error': validation.fields.retypedPassword.length }">
            <label class="col-sm-4 control-label required">
                {{ 'RETYPED_PASSWORD_LABEL' | glMessage }}:
               <span ng-show="model.retypedPassword.required" class="required-marker text-danger">
                    {{ 'REQUIRED_FIELD' | glMessage | uppercase }}
                </span>
            </label>
            <div class="col-sm-8">
                <input type="password" class="form-control" ng-model="model.retypedPassword.value" focus-on="model.retypedPassword.focus" on-key-enter="submit()"
                       ng-keydown="resetValidation('retypedPassword')" ng-blur="validate('retypedPassword')" ng-disabled="processing">
                <div class="help-block">
                    <ul class="list-unstyled icon-list error-list">
                        <li ng-repeat="message in validation.fields.retypedPassword">{{ message }}</li>
                    </ul>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <img class="pull-left" ng-show="processing" src="img/loader.gif">
    <button ng-disabled="processing" class="btn btn-default" ng-click="$dismiss()">{{ 'CANCEL_BUTTON' | glMessage }}</button>
    <button ng-disabled="processing" class="btn btn-primary" ng-click="submit()">{{ 'CHANGE_PASSWORD_BUTTON' | glMessage }}</button>
</div>
